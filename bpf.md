# BPF

## 基础
1. 内核和用户空间
2. BPF是什么
3. BPF执行环境
4. BPF性能
5. BPF安全性
6. BPF能力(动态跟踪、全链跟踪)

## 步骤
1. 问题描述
2. 大体方向
3. 寻找相关函数进行观测
4. 进行数据分析

## 工具分类
1. CPU、MEM、文件系统、磁盘、网络、LANG、APP

## 应用
1. 性能分析
2. 故障分析

a. 用户空间将字节码和程序类型一起发送到内核，程序类型决定了可以访问的内核区域。
b. 内核在字节码上运行验证器，以确保程序可以安全运行。
c. 内核将字节码编译为本地代码，并将其插入指定的代码位置。
d. 插入的代码将数据写入环形缓冲区或通用键值 map。
e. 用户空间从共享 map 或环形缓冲区中读取结果值。
